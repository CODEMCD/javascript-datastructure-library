"use strict";var Deque=function(){var o=Array.isArray;function t(t){this._capacity=this.getCapacity(t);this._size=0;this._front=0;if(o(t)){var i=t.length;for(var r=0;r<i;++r){this[r]=t[r]}this._size=i}}t.prototype.clear=function(){var t=this._size;var i=this._front;var r=this._capacity;for(var o=0;o<t;++o){this[i+o&r-1]=void 0}this._size=0;this._front=0};t.prototype.empty=function(){return this._size===0};t.prototype.front=function(){if(this._size===0){return null}return this[this._front]};t.prototype.back=function(){if(this._size===0){return null}var t=this._size;var i=this._front+t-1&this._capacity-1;return this[i]};t.prototype.push_front=function(t){var i=this._size;var r=this._capacity;var o=(this._front-1&r-1^r)-r;this._checkCapacity(i+1);this[o]=t;this._size=i+1;this._front=o};t.prototype.pop_front=function(){if(this._size===0){return null}var t=this._size;var i=this._front;var r=this[i];this[i]=void 0;this._front=i+1&this._capacity-1;this._size=t-1;return r};t.prototype.push_back=function(t){var i=this._size;this._checkCapacity(i+1);var r=this._front+i&this._capacity-1;this[r]=t;this._size=i+1;return i+1};t.prototype.pop_back=function(){if(this._size===0){return null}var t=this._size;var i=this._front+t-1&this._capacity-1;var r=this[i];this[i]=void 0;this._size=t-1;return r};t.prototype.toString=function(){var t=this._size;var i=new Array(t);var r=this._front;var o=this._capacity;var e,s;var p="[";for(e=0;e<t;++e){i[e]=this[r+e&o-1]}for(e=0;e<t;++e){s=i[e];if(!!s&&typeof s==="object"){p+="["+s+"]"}else if(!!s&&typeof s==="string"){p+="'"+s+"'"}else{p+=s}if(e<t-1){p+=", "}}p+="]";return p};t.prototype.length=function(){return this._size};t.prototype.size=t.prototype.length;t.prototype.unshift=t.prototype.push_front;t.prototype.dequeue=t.prototype.pop_front;t.prototype.shift=t.prototype.pop_front;t.prototype.enqueue=t.prototype.push_back;t.prototype.push=t.prototype.push_back;t.prototype.pop=t.prototype.pop_back;t.prototype._checkCapacity=function(t){if(this._capacity<t){this._resizeTo(this.getCapacity(this._capacity*1.5+16))}};t.prototype._resizeTo=function(t){var i=this._front;var r=this._size;var o=this._capacity;this._capacity=t;if(i+r>o){var e=i+r&o-1;this.arrayMove(this,0,this,o,e)}};t.prototype.arrayMove=function(t,i,r,o,e){for(var s=0;s<e;++s){r[s+o]=t[s+i];t[s+i]=void 0}};t.prototype.pow2AtLeast=function(t){t=t>>>0;t=t-1;t=t|t>>1;t=t|t>>2;t=t|t>>4;t=t|t>>8;t=t|t>>16;return t+1};t.prototype.getCapacity=function(t){if(typeof t!=="number"){if(o(t)){t=t.length}else{return 16}}return this.pow2AtLeast(Math.min(Math.max(16,t),1073741824))};return t}();module.exports=Deque;